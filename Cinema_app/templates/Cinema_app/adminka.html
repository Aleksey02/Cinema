<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
</head>
<body>

{% if user.is_staff %}
    {% block content %}
        {% comment %}        <div>
            <h2>Фильмы</h2>
            <a href="{% url 'adminka-update' %}" class="btn btn-primary">Добавить фильм</a>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">Название фильма</th>
                    <th scope="col" width="10%">Изменить</th>
                    <th scope="col" width="10%">Удалить</th>
                </tr>
                </thead>
                <tbody>
                {% for film in object_list %}
                    <tr>
                        <th scope="row">{{ film.pk }}</th>
                        <td><a href="{% url 'film' film.pk %}">{{ film }}</a></td>
                        <td><a href="{% url 'adminka-update' film.pk %}">изменить</a></td>
                        <td><a href="{% url 'adminka-delete-page' film.pk %}">удалить</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div>
            <h2>Новости</h2>
            <a href="{% url 'news-create' %}" class="btn btn-primary">Добавить новость</a>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">Заголовок новости</th>
                    <th scope="col" width="10%">Изменить</th>
                    <th scope="col" width="10%">Удалить</th>
                </tr>
                </thead>
                <tbody>
                {% for new in news %}
                    <tr>
                        <th scope="row">{{ new.pk }}</th>
                        <td><a href="{% url 'news-detail' new.pk %}">{{ new.title }}</a></td>
                        <td><a href="{% url 'news-update' new.pk %}">изменить</a></td>
                        <td><a href="{% url 'news-delete-page' new.pk %}">удалить</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div>
            <h2>Слайдер <small>(Для того чтобы слайдер работал, нужно 3 слайда)</small></h2>
            {% if postersCount < 3 %}
                <a href="{% url 'poster-create' %}" class="btn btn-primary">Добавить картинку слайдеру</a>
            {% endif %}
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Номер слайда</th>
                    <th scope="col">Название фильма на слайде</th>
                    <th scope="col" width="10%">Изменить</th>
                    <th scope="col" width="10%">Удалить</th>
                </tr>
                </thead>
                <tbody>
                {% for poster in posters %}
                    <tr>
                        <th scope="row">{{ poster.title }}</th>
                        <td>{{ poster.film }}</td>
                        <td><a href="{% url 'poster-update' poster.pk %}">изменить</a></td>
                        <td><a href="{% url 'poster-delete-page' poster.pk %}">удалить</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>{% endcomment %}

        {% comment %}TESTING!!!{% endcomment %}
        <div>
        <div class="row">
        <div class="col-xl-3">
            <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action active" id="list-film-list"
                   data-bs-toggle="list" href="#list-film" role="tab" aria-controls="list-home">Фильмы</a>
                <a class="list-group-item list-group-item-action" id="list-news-list"
                   data-bs-toggle="list" href="#list-news" role="tab" aria-controls="list-home">Новости</a>
                <a class="list-group-item list-group-item-action" id="list-slider-list"
                   data-bs-toggle="list" href="#list-slider" role="tab" aria-controls="list-home">Слайдер</a>
            </div>
        </div>
        <div class="col-xl-9">
        <div class="tab-content h-100" id="nav-tabContent">
            <div class="tab-pane fade show active" id="list-film" role="tabpanel" aria-labelledby="list-film-list">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="h-100 d-flex flex-column justify-content-between">
                            <div>
                                <h2>Фильмы</h2>
                                <a href="{% url 'adminka-update' %}" class="btn btn-primary">Добавить фильм</a>
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th scope="col">id</th>
                                        <th scope="col">Название фильма</th>
                                        <th scope="col" width="10%">Изменить</th>
                                        <th scope="col" width="10%">Удалить</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for film in object_list %}
                                        <tr>
                                            <th scope="row">{{ film.pk }}</th>
                                            <td><a href="{% url 'film' film.pk %}">{{ film }}</a></td>
                                            <td><a href="{% url 'adminka-update' film.pk %}">изменить</a></td>
                                            <td><a href="{% url 'adminka-delete-page' film.pk %}">удалить</a></td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="list-news" role="tabpanel" aria-labelledby="list-news-list">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="h-100 d-flex flex-column justify-content-between">
<div>
            <h2>Новости</h2>
            <a href="{% url 'news-create' %}" class="btn btn-primary">Добавить новость</a>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">Заголовок новости</th>
                    <th scope="col" width="10%">Изменить</th>
                    <th scope="col" width="10%">Удалить</th>
                </tr>
                </thead>
                <tbody>
                {% for new in news %}
                    <tr>
                        <th scope="row">{{ new.pk }}</th>
                        <td><a href="{% url 'news-detail' new.pk %}">{{ new.title }}</a></td>
                        <td><a href="{% url 'news-update' new.pk %}">изменить</a></td>
                        <td><a href="{% url 'news-delete-page' new.pk %}">удалить</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="list-slider" role="tabpanel" aria-labelledby="list-slider-list">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="h-100 d-flex flex-column justify-content-between">
<div>
            <h2>Слайдер <small>(Для того чтобы слайдер работал, нужно 3 слайда)</small></h2>
            {% if postersCount < 3 %}
                <a href="{% url 'poster-create' %}" class="btn btn-primary">Добавить картинку слайдеру</a>
            {% endif %}
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Номер слайда</th>
                    <th scope="col">Название фильма на слайде</th>
                    <th scope="col" width="10%">Изменить</th>
                    <th scope="col" width="10%">Удалить</th>
                </tr>
                </thead>
                <tbody>
                {% for poster in posters %}
                    <tr>
                        <th scope="row">{{ poster.title }}</th>
                        <td>{{ poster.film }}</td>
                        <td><a href="{% url 'poster-update' poster.pk %}">изменить</a></td>
                        <td><a href="{% url 'poster-delete-page' poster.pk %}">удалить</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>



        <!-- Пакет JavaScript с Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
                crossorigin="anonymous"></script>
    {% endblock %}
{% else %}
    <h2>Упс, вы зашли на страницу администратора, эта страница рабоает только с аккаунтами имеющими статус
        администратора</h2>
{% endif %}
</body>
</html>